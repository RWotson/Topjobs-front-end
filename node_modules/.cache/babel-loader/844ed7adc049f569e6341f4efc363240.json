{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\senethg\\\\Desktop\\\\Mobile App\\\\Test\\\\test server\\\\Gymekalk\\\\client\\\\src\\\\components\\\\homepage\\\\BookAppoinment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe(\"YOUR_STRIPE_PUBLIC_KEY\");\n\nconst BookAppointment = () => {\n  _s();\n\n  const [appointmentData, setAppointmentData] = useState({\n    date: \"\",\n    location: \"\",\n    description: \"\"\n  });\n  const [paymentData, setPaymentData] = useState({\n    amount: \"\",\n    paymentMethod: \"\"\n  });\n  const [showPaymentForm, setShowPaymentForm] = useState(false);\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const handleAppointmentSubmit = () => {\n    setShowPaymentForm(true);\n  };\n\n  const handlePaymentSubmit = async () => {\n    try {\n      if (!stripe || !elements) {\n        return; // Stripe.js has not yet loaded.\n      }\n\n      const {\n        error,\n        paymentMethod\n      } = await stripe.createPaymentMethod({\n        type: \"card\",\n        card: elements.getElement(CardElement)\n      });\n\n      if (error) {\n        throw new Error(error.message);\n      }\n\n      setPaymentData({ ...paymentData,\n        paymentMethod: paymentMethod.id\n      });\n      const response = await fetch(\"/payment\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(paymentData)\n      });\n      const paymentIntent = await response.json();\n      const result = await stripe.redirectToCheckout({\n        sessionId: paymentIntent.sessionId\n      });\n\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n    } catch (error) {\n      console.error(error); // Handle error\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-100 p-4 rounded-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-bold mb-4\",\n        children: \"Appointment Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"date\",\n          className: \"block mb-2\",\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"date\",\n          type: \"date\",\n          value: appointmentData.date,\n          onChange: e => setAppointmentData({ ...appointmentData,\n            date: e.target.value\n          }),\n          className: \"border border-gray-300 p-2 rounded-md w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"location\",\n          className: \"block mb-2\",\n          children: \"Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"location\",\n          type: \"text\",\n          value: appointmentData.location,\n          onChange: e => setAppointmentData({ ...appointmentData,\n            location: e.target.value\n          }),\n          className: \"border border-gray-300 p-2 rounded-md w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          className: \"block mb-2\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"description\",\n          type: \"text\",\n          value: appointmentData.description,\n          onChange: e => setAppointmentData({ ...appointmentData,\n            description: e.target.value\n          }),\n          className: \"border border-gray-300 p-2 rounded-md w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), !showPaymentForm && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAppointmentSubmit,\n        className: \"bg-blue-500 text-white px-4 py-2 rounded-md\",\n        children: \"Proceed to Payment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), showPaymentForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-100 p-4 rounded-md mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-bold mb-4\",\n        children: \"Payment Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"amount\",\n          className: \"block mb-2\",\n          children: \"Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"amount\",\n          type: \"number\",\n          value: paymentData.amount,\n          onChange: e => setPaymentData({ ...paymentData,\n            amount: e.target.value\n          }),\n          className: \"border border-gray-300 p-2 rounded-md w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardElement, {\n        className: \"border border-gray-300 p-2 rounded-md mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePaymentSubmit,\n        className: \"bg-blue-500 text-white px-4 py-2 rounded-md\",\n        children: \"Pay Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BookAppointment, \"36JVLMnyVRedN2W0KWRfTHfY1gk=\", false, function () {\n  return [useStripe, useElements];\n});\n\n_c = BookAppointment;\nexport default BookAppointment;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookAppointment\");","map":{"version":3,"names":["React","useState","loadStripe","CardElement","useStripe","useElements","stripePromise","BookAppointment","appointmentData","setAppointmentData","date","location","description","paymentData","setPaymentData","amount","paymentMethod","showPaymentForm","setShowPaymentForm","stripe","elements","handleAppointmentSubmit","handlePaymentSubmit","error","createPaymentMethod","type","card","getElement","Error","message","id","response","fetch","method","headers","body","JSON","stringify","paymentIntent","json","result","redirectToCheckout","sessionId","console","e","target","value"],"sources":["C:/Users/senethg/Desktop/Mobile App/Test/test server/Gymekalk/client/src/components/homepage/BookAppoinment.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\r\n\r\nconst stripePromise = loadStripe(\"YOUR_STRIPE_PUBLIC_KEY\");\r\n\r\nconst BookAppointment = () => {\r\n  const [appointmentData, setAppointmentData] = useState({\r\n    date: \"\",\r\n    location: \"\",\r\n    description: \"\"\r\n  });\r\n  const [paymentData, setPaymentData] = useState({\r\n    amount: \"\",\r\n    paymentMethod: \"\"\r\n  });\r\n  const [showPaymentForm, setShowPaymentForm] = useState(false);\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const handleAppointmentSubmit = () => {\r\n    setShowPaymentForm(true);\r\n  };\r\n\r\n  const handlePaymentSubmit = async () => {\r\n    try {\r\n      if (!stripe || !elements) {\r\n        return; // Stripe.js has not yet loaded.\r\n      }\r\n\r\n      const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n        type: \"card\",\r\n        card: elements.getElement(CardElement)\r\n      });\r\n\r\n      if (error) {\r\n        throw new Error(error.message);\r\n      }\r\n\r\n      setPaymentData({ ...paymentData, paymentMethod: paymentMethod.id });\r\n\r\n      const response = await fetch(\"/payment\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(paymentData)\r\n      });\r\n\r\n      const paymentIntent = await response.json();\r\n\r\n      const result = await stripe.redirectToCheckout({\r\n        sessionId: paymentIntent.sessionId\r\n      });\r\n\r\n      if (result.error) {\r\n        throw new Error(result.error.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      // Handle error\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <div className=\"bg-gray-100 p-4 rounded-md\">\r\n        <h2 className=\"font-bold mb-4\">Appointment Details</h2>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"date\" className=\"block mb-2\">Date</label>\r\n          <input\r\n            id=\"date\"\r\n            type=\"date\"\r\n            value={appointmentData.date}\r\n            onChange={(e) =>\r\n              setAppointmentData({ ...appointmentData, date: e.target.value })\r\n            }\r\n            className=\"border border-gray-300 p-2 rounded-md w-full\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"location\" className=\"block mb-2\">Location</label>\r\n          <input\r\n            id=\"location\"\r\n            type=\"text\"\r\n            value={appointmentData.location}\r\n            onChange={(e) =>\r\n              setAppointmentData({ ...appointmentData, location: e.target.value })\r\n            }\r\n            className=\"border border-gray-300 p-2 rounded-md w-full\"\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"description\" className=\"block mb-2\">Description</label>\r\n          <input\r\n            id=\"description\"\r\n            type=\"text\"\r\n            value={appointmentData.description}\r\n            onChange={(e) =>\r\n              setAppointmentData({ ...appointmentData, description: e.target.value })\r\n            }\r\n            className=\"border border-gray-300 p-2 rounded-md w-full\"\r\n          />\r\n        </div>\r\n        {!showPaymentForm && (\r\n          <button onClick={handleAppointmentSubmit} className=\"bg-blue-500 text-white px-4 py-2 rounded-md\">\r\n            Proceed to Payment\r\n          </button>\r\n        )}\r\n      </div>\r\n      {showPaymentForm && (\r\n        <div className=\"bg-gray-100 p-4 rounded-md mt-4\">\r\n          <h2 className=\"font-bold mb-4\">Payment Details</h2>\r\n          <div className=\"mb-4\">\r\n            <label htmlFor=\"amount\" className=\"block mb-2\">Amount</label>\r\n            <input\r\n              id=\"amount\"\r\n              type=\"number\"\r\n              value={paymentData.amount}\r\n              onChange={(e) =>\r\n                setPaymentData({ ...paymentData, amount: e.target.value })\r\n              }\r\n              className=\"border border-gray-300 p-2 rounded-md w-full\"\r\n            />\r\n          </div>\r\n          <CardElement className=\"border border-gray-300 p-2 rounded-md mb-4\" />\r\n          <button onClick={handlePaymentSubmit} className=\"bg-blue-500 text-white px-4 py-2 rounded-md\">\r\n            Pay Now\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookAppointment;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}