{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\senethg\\\\Desktop\\\\Mobile App\\\\Test\\\\test server\\\\Gymekalk\\\\client\\\\src\\\\dashbord\\\\Packages.js\";\nimport React from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport PackageCard from \"./packagesitem/PackageCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Packages = () => {\n  const handlePay = async (packageId, amount) => {\n    try {\n      const response = await fetch(\"/api/subscribe\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: localStorage.getItem(\"token\") // Pass the authorization token if required\n\n        },\n        body: JSON.stringify({\n          packageId\n        })\n      });\n\n      if (response.ok) {\n        toast.success(\"Subscription and payment successful\");\n      } else {\n        toast.error(\"Payment failed\");\n      }\n    } catch (error) {\n      console.error(\"Error processing subscription and payment:\", error);\n      toast.error(\"Payment failed\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-8\",\n      children: \"Subscription Packages\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\",\n      children: /*#__PURE__*/_jsxDEV(PackageCard, {\n        packageInfo: {\n          name: \"Package A\",\n          amount: 25\n        },\n        onPay: () => handlePay(1, 25)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Packages;\nexport default Packages;\n\nvar _c;\n\n$RefreshReg$(_c, \"Packages\");","map":{"version":3,"names":["React","ToastContainer","toast","PackageCard","Packages","handlePay","packageId","amount","response","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","ok","success","error","console","name"],"sources":["C:/Users/senethg/Desktop/Mobile App/Test/test server/Gymekalk/client/src/dashbord/Packages.js"],"sourcesContent":["import React from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport PackageCard from \"./packagesitem/PackageCard\";\r\n\r\nconst Packages = () => {\r\n  const handlePay = async (packageId, amount) => {\r\n    try {\r\n      const response = await fetch(\"/api/subscribe\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: localStorage.getItem(\"token\"), // Pass the authorization token if required\r\n        },\r\n        body: JSON.stringify({ packageId }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        toast.success(\"Subscription and payment successful\");\r\n      } else {\r\n        toast.error(\"Payment failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error processing subscription and payment:\", error);\r\n      toast.error(\"Payment failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <h1 className=\"text-3xl font-bold mb-8\">Subscription Packages</h1>\r\n      <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n        <PackageCard\r\n          packageInfo={{ name: \"Package A\", amount: 25 }}\r\n          onPay={() => handlePay(1, 25)}\r\n        />\r\n        {/* Add more PackageCard components for other packages */}\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Packages;\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,OAAO,uCAAP;AACA,OAAOC,WAAP,MAAwB,4BAAxB;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;EACrB,MAAMC,SAAS,GAAG,OAAOC,SAAP,EAAkBC,MAAlB,KAA6B;IAC7C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gBAAD,EAAmB;QAC7CC,MAAM,EAAE,MADqC;QAE7CC,OAAO,EAAE;UACP,gBAAgB,kBADT;UAEPC,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFR,CAEuC;;QAFvC,CAFoC;QAM7CC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UAAEX;QAAF,CAAf;MANuC,CAAnB,CAA5B;;MASA,IAAIE,QAAQ,CAACU,EAAb,EAAiB;QACfhB,KAAK,CAACiB,OAAN,CAAc,qCAAd;MACD,CAFD,MAEO;QACLjB,KAAK,CAACkB,KAAN,CAAY,gBAAZ;MACD;IACF,CAfD,CAeE,OAAOA,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAc,4CAAd,EAA4DA,KAA5D;MACAlB,KAAK,CAACkB,KAAN,CAAY,gBAAZ;IACD;EACF,CApBD;;EAsBA,oBACE;IAAK,SAAS,EAAC,6BAAf;IAAA,wBACE;MAAI,SAAS,EAAC,yBAAd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAK,SAAS,EAAC,sDAAf;MAAA,uBACE,QAAC,WAAD;QACE,WAAW,EAAE;UAAEE,IAAI,EAAE,WAAR;UAAqBf,MAAM,EAAE;QAA7B,CADf;QAEE,KAAK,EAAE,MAAMF,SAAS,CAAC,CAAD,EAAI,EAAJ;MAFxB;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAFF,eASE,QAAC,cAAD;MAAA;MAAA;MAAA;IAAA,QATF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAaD,CApCD;;KAAMD,Q;AAsCN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}